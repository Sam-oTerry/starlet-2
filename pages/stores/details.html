<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Store Details - Starlet Properties</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="css/style.css">
  <style>
    .store-details-header {
      background: #fff;
      border-radius: 1.25rem;
      box-shadow: 0 2px 12px 0 rgba(0,0,0,0.07);
      padding: 2rem 2.5rem;
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      gap: 2rem;
    }
    .store-details-avatar {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #e9ecef;
    }
    .store-details-info h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.3rem;
    }
    .store-details-info .badge {
      font-size: 0.95em;
      font-weight: 500;
      background: #f5f7fa;
      border: 1px solid #e9ecef;
      margin-left: 0.5em;
    }
    .store-details-rating i {
      font-size: 1.2rem;
      margin-right: 1px;
    }
    .store-details-stats {
      display: flex;
      gap: 2rem;
      margin: 1rem 0 0.5rem 0;
    }
    .store-details-stats span {
      font-size: 1.05em;
      color: #555;
      opacity: 0.9;
    }
    .store-details-description {
      color: #666;
      font-size: 1.08em;
      margin-top: 0.5rem;
    }
    .store-listings-section {
      margin-top: 2.5rem;
    }
    .store-listings-header {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
    }
    .store-listings-placeholder {
      color: #aaa;
      text-align: center;
      padding: 2.5rem 0;
      font-size: 1.1rem;
    }
    .store-reviews-section {
      background: #fff;
      border-radius: 1.25rem;
      box-shadow: 0 2px 12px 0 rgba(0,0,0,0.07);
      padding: 2rem 2.5rem;
      margin-top: 2.5rem;
    }
    .store-reviews-header {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
    }
    .review-card {
      border-radius: 1rem;
      background: #f8f9fa;
      box-shadow: 0 1px 6px rgba(0,0,0,0.04);
      padding: 1.2rem 1.5rem;
      margin-bottom: 1.2rem;
      display: flex;
      gap: 1.2rem;
      align-items: flex-start;
    }
    .review-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #e9ecef;
    }
    .review-content {
      flex: 1;
    }
    .review-header {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      margin-bottom: 0.2rem;
    }
    .review-name {
      font-weight: 600;
      font-size: 1.05rem;
      color: #222;
    }
    .review-date {
      color: #888;
      font-size: 0.93em;
    }
    .review-stars i {
      font-size: 1.05rem;
      margin-right: 1px;
    }
    .review-text {
      color: #444;
      font-size: 1.04em;
      margin-top: 0.2rem;
    }
    @media (max-width: 768px) {
      .store-details-header {
        flex-direction: column;
        align-items: flex-start;
        padding: 1.2rem 0.7rem;
        gap: 1.2rem;
      }
      .store-details-avatar {
        width: 70px;
        height: 70px;
      }
    }
  </style>
</head>
<body class="bg-light">
  <!-- Navbar (copied from index.html) -->
  <nav class="navbar navbar-expand-lg navbar-custom">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <span class="brand-star">Star</span> <span class="brand-let">Let</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="index.html"><i class="bi bi-house-door"></i> Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="categoriesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-grid"></i> Categories
            </a>
            <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
              <li><h6 class="dropdown-header">Properties</h6></li>
              <li><a class="dropdown-item" href="properties.html?type=house_sale">Houses for Sale</a></li>
              <li><a class="dropdown-item" href="properties.html?type=house_rent">Houses for Rent</a></li>
              <li><a class="dropdown-item" href="properties.html?type=land_sale">Land for Sale</a></li>
              <li><a class="dropdown-item" href="properties.html?type=land_rent">Land for Rent</a></li>
              <li><a class="dropdown-item" href="properties.html?type=commercial">Commercial Property</a></li>
              <li><a class="dropdown-item" href="properties.html?type=vacation_short_stay">Vacation & Short Stay</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><h6 class="dropdown-header">Vehicles</h6></li>
              <li><a class="dropdown-item" href="vehicles.html?type=cars">Cars</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=motorcycles">Motorcycles</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=trucks">Trucks</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=buses">Buses</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=heavy_machinery">Heavy Machinery</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=bicycles_ebikes">Bicycles & E-bikes</a></li>
              <li><a class="dropdown-item" href="vehicles.html?type=boats_watercraft">Boats & Watercraft</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="pages/dashboard/addlistings.html"><i class="bi bi-tags"></i> Sell</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="moreDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-three-dots"></i> More
            </a>
            <ul class="dropdown-menu" aria-labelledby="moreDropdown">
              <li><a class="dropdown-item" href="properties.html"><i class="bi bi-building"></i> Properties</a></li>
              <li><a class="dropdown-item" href="vehicles.html"><i class="bi bi-car-front"></i> Vehicles</a></li>
              <li><a class="dropdown-item active" href="stores.html"><i class="bi bi-shop"></i> Stores</a></li>
              <li><a class="dropdown-item" href="resources.html"><i class="bi bi-book"></i> Resources</a></li>
              <li><a class="dropdown-item" href="about.html"><i class="bi bi-info-circle"></i> About</a></li>
              <li><a class="dropdown-item" href="contact.html"><i class="bi bi-envelope"></i> Contact</a></li>
            </ul>
          </li>
                              <li class="nav-item">
                        <a class="nav-link" href="../auth/login.html"><i class="bi bi-box-arrow-in-right"></i> Login</a>
                    </li>
          <li class="nav-item">
            <a class="nav-link" href="register.html"><i class="bi bi-person-plus"></i> Sign Up</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="container py-5">
    <div id="storeDetailsContainer"></div>
    <div class="store-listings-section">
      <div class="store-listings-header">Store Listings</div>
      <div class="row" id="storeListingsGrid">
        <div class="store-listings-placeholder">Store listings will appear here.</div>
      </div>
    </div>
    <div class="store-reviews-section mt-5">
      <div class="store-reviews-header mb-3">Customer Reviews</div>
      <div id="storeReviewsContainer"></div>
    </div>
  </section>

  <!-- Footer (copied from index.html) -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 mb-4">
          <h4>About Starlet Properties</h4>
          <p>Uganda's premier real estate and vehicle marketplace, connecting buyers and sellers across the country.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 mb-4">
          <h4>Properties</h4>
          <ul>
            <li><a href="properties.html?type=house_sale">Houses for Sale</a></li>
            <li><a href="properties.html?type=house_rent">Houses for Rent</a></li>
            <li><a href="properties.html?type=land_sale">Land for Sale</a></li>
            <li><a href="properties.html?type=land_rent">Land for Rent</a></li>
            <li><a href="properties.html?type=commercial">Commercial Property</a></li>
            <li><a href="properties.html?type=vacation_short_stay">Vacation & Short Stay</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 mb-4">
          <h4>Vehicles</h4>
          <ul>
            <li><a href="vehicles.html?type=cars">Cars</a></li>
            <li><a href="vehicles.html?type=motorcycles">Motorcycles</a></li>
            <li><a href="vehicles.html?type=trucks">Trucks</a></li>
            <li><a href="vehicles.html?type=buses">Buses</a></li>
            <li><a href="vehicles.html?type=heavy_machinery">Heavy Machinery</a></li>
            <li><a href="vehicles.html?type=bicycles_ebikes">Bicycles & E-bikes</a></li>
            <li><a href="vehicles.html?type=boats_watercraft">Boats & Watercraft</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 mb-4">
          <h4>Company</h4>
          <ul>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="resources.html">Resources</a></li>
            <li><a href="stores.html">Our Stores</a></li>
            <li><a href="privacy.html">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 mb-4">
          <h4>Contact</h4>
          <ul>
            <li><a href="tel:+256123456789"><i class="bi bi-telephone"></i> +256 123 456 789</a></li>
            <li><a href="mailto:info@starlet.co.ug"><i class="bi bi-envelope"></i> info@starlet.co.ug</a></li>
            <li><a href="#"><i class="bi bi-geo-alt"></i> Kampala, Uganda</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="row">
          <div class="col-md-6">
            <p class="mb-0">&copy; 2024 Starlet Properties. All rights reserved.</p>
          </div>
          <div class="col-md-6 text-md-end">
            <a href="terms.html" class="me-3">Terms of Service</a>
            <a href="privacy.html">Privacy Policy</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
// Dummy data for stores/agents (same as stores.html)
const storeListings = [
  {
    id: 1,
    name: 'AutoMart',
    avatar: 'https://randomuser.me/api/portraits/men/32.jpg',
    type: 'Vehicle',
    location: 'Kampala',
    verified: true,
    stats: { listings: 120, success: '97%', years: 6 },
    rating: 4.7,
    description: 'Official vehicle dealership with a wide range of cars and motorcycles.'
  },
  {
    id: 2,
    name: 'Green Estates',
    avatar: 'https://randomuser.me/api/portraits/men/45.jpg',
    type: 'Real Estate',
    location: 'Gulu',
    verified: false,
    stats: { listings: 80, success: '92%', years: 4 },
    rating: 4.2,
    description: 'Trusted real estate agency for land and homes in Northern Uganda.'
  },
  {
    id: 3,
    name: 'Biz Realty',
    avatar: 'https://randomuser.me/api/portraits/women/12.jpg',
    type: 'Official Store',
    location: 'Mbale',
    verified: true,
    stats: { listings: 60, success: '99%', years: 8 },
    rating: 4.9,
    description: 'Official store for commercial properties and rentals.'
  },
  {
    id: 4,
    name: 'MotoHub',
    avatar: 'https://randomuser.me/api/portraits/men/77.jpg',
    type: 'Vehicle',
    location: 'Arua',
    verified: false,
    stats: { listings: 45, success: '90%', years: 3 },
    rating: 3.8,
    description: 'Motorcycle sales and service center.'
  },
  {
    id: 5,
    name: 'AgroLand',
    avatar: 'https://randomuser.me/api/portraits/men/23.jpg',
    type: 'Agent',
    location: 'Lira',
    verified: false,
    stats: { listings: 30, success: '85%', years: 2 },
    rating: 4.0,
    description: 'Land and farm property agent.'
  }
];

// Utility: get query param
function getQueryParam(name) {
  const url = new URL(window.location.href);
  return url.searchParams.get(name);
}

function renderStoreDetails() {
  const storeId = parseInt(getQueryParam('id'));
  const store = storeListings.find(s => s.id === storeId);
  const container = document.getElementById('storeDetailsContainer');
  if (!store) {
    container.innerHTML = '<div class="alert alert-warning">Store not found.</div>';
    return;
  }
  // Star rating HTML
  const fullStars = Math.floor(store.rating);
  const halfStar = store.rating % 1 >= 0.25 && store.rating % 1 < 0.75;
  const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
  let starsHtml = '';
  for (let i = 0; i < fullStars; i++) starsHtml += '<i class="bi bi-star-fill text-warning"></i>';
  if (halfStar) starsHtml += '<i class="bi bi-star-half text-warning"></i>';
  for (let i = 0; i < emptyStars; i++) starsHtml += '<i class="bi bi-star text-warning"></i>';
  container.innerHTML = `
    <div class="store-details-header">
      <img src="${store.avatar}" alt="${store.name}" class="store-details-avatar">
      <div class="store-details-info flex-grow-1">
        <h2>${store.name} ${store.verified ? '<i class=\'bi bi-patch-check-fill text-primary\' title=\'Verified\'></i>' : ''}<span class="badge ms-2">${store.type}</span></h2>
        <div class="d-flex align-items-center gap-2 mb-2">
          <i class="bi bi-geo-alt text-muted"></i>
          <span class="text-muted">${store.location}</span>
        </div>
        <div class="store-details-rating d-flex align-items-center gap-1 mb-2">
          <span class="rating-stars">${starsHtml}</span>
          <span class="text-muted ms-1">${store.rating.toFixed(1)}</span>
        </div>
        <div class="store-details-stats">
          <span><i class="bi bi-list-ul"></i> ${store.stats.listings} Listings</span>
          <span><i class="bi bi-graph-up"></i> ${store.stats.success} Success</span>
          <span><i class="bi bi-calendar3"></i> ${store.stats.years} Years</span>
        </div>
        <div class="store-details-description">${store.description}</div>
        <a href="#contact" class="btn btn-primary mt-3 rounded-pill px-4"><i class="bi bi-envelope"></i> Contact Store</a>
      </div>
    </div>
  `;
}

// Dummy reviews data (in real app, fetch from backend)
const storeReviews = {
  1: [
    {
      name: 'Sarah K.',
      avatar: 'https://randomuser.me/api/portraits/women/44.jpg',
      rating: 5,
      date: '2024-05-01',
      text: 'Great service and a wide selection of vehicles. Highly recommended!'
    },
    {
      name: 'James O.',
      avatar: 'https://randomuser.me/api/portraits/men/51.jpg',
      rating: 4,
      date: '2024-04-18',
      text: 'Smooth transaction and friendly staff.'
    },
    {
      name: 'Linda N.',
      avatar: 'https://randomuser.me/api/portraits/women/68.jpg',
      rating: 4.5,
      date: '2024-03-30',
      text: 'Good prices and quick process. Will buy again.'
    }
  ],
  2: [
    {
      name: 'Peter M.',
      avatar: 'https://randomuser.me/api/portraits/men/34.jpg',
      rating: 4,
      date: '2024-04-10',
      text: 'Helpful agents and honest advice.'
    }
  ],
  3: [],
  4: [
    {
      name: 'Grace T.',
      avatar: 'https://randomuser.me/api/portraits/women/23.jpg',
      rating: 3.5,
      date: '2024-03-15',
      text: 'Decent experience, but could improve on communication.'
    }
  ],
  5: []
};

function renderStoreReviews() {
  const storeId = parseInt(getQueryParam('id'));
  const reviews = storeReviews[storeId] || [];
  const container = document.getElementById('storeReviewsContainer');
  if (!container) return;
  if (!reviews.length) {
    container.innerHTML = '<div class="text-muted text-center py-4">No reviews yet for this store.</div>';
    return;
  }
  container.innerHTML = reviews.slice(0, 3).map(r => {
    // Star rating HTML
    const fullStars = Math.floor(r.rating);
    const halfStar = r.rating % 1 >= 0.25 && r.rating % 1 < 0.75;
    const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
    let starsHtml = '';
    for (let i = 0; i < fullStars; i++) starsHtml += '<i class="bi bi-star-fill text-warning"></i>';
    if (halfStar) starsHtml += '<i class="bi bi-star-half text-warning"></i>';
    for (let i = 0; i < emptyStars; i++) starsHtml += '<i class="bi bi-star text-warning"></i>';
    return `
      <div class="review-card">
        <img src="${r.avatar}" alt="${r.name}" class="review-avatar">
        <div class="review-content">
          <div class="review-header">
            <span class="review-name">${r.name}</span>
            <span class="review-stars">${starsHtml}</span>
            <span class="review-date">${new Date(r.date).toLocaleDateString()}</span>
          </div>
          <div class="review-text">${r.text}</div>
        </div>
      </div>
    `;
  }).join('');
}

document.addEventListener('DOMContentLoaded', function() {
  renderStoreDetails();
  renderStoreReviews();
});
  </script>
</body>
</html> 